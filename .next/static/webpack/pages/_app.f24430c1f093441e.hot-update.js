"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./app/http/index.js":
/*!***************************!*\
  !*** ./app/http/index.js ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"API_URL\": function() { return /* binding */ API_URL; },\n/* harmony export */   \"Intercaptors\": function() { return /* binding */ Intercaptors; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @swc/helpers/src/_async_to_generator.mjs */ \"./node_modules/@swc/helpers/src/_async_to_generator.mjs\");\n/* harmony import */ var C_PROJECT_crypto_wallet_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/regenerator-runtime/runtime.js */ \"./node_modules/next/dist/compiled/regenerator-runtime/runtime.js\");\n/* harmony import */ var C_PROJECT_crypto_wallet_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(C_PROJECT_crypto_wallet_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-cookie */ \"./node_modules/js-cookie/dist/js.cookie.mjs\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _pages_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/pages/_app */ \"./pages/_app.js\");\n\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nvar API_URL = \"https://crypto-wallet-server-one.herokuapp.com\";\nvar $api = axios__WEBPACK_IMPORTED_MODULE_1___default().create({\n    withCredentials: true,\n    baseURL: API_URL\n});\nvar Intercaptors = function(param) {\n    var children = param.children;\n    _s();\n    var router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    var main = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_pages_app__WEBPACK_IMPORTED_MODULE_5__.StoreContext).main;\n    $api.interceptors.request.use(function(config) {\n        config.headers.Authorization = \"Bearer \".concat(js_cookie__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"token\"));\n        return config;\n    });\n    $api.interceptors.response.use(function(config) {\n        return config;\n    }, function() {\n        var _ref = (0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(C_PROJECT_crypto_wallet_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(error) {\n            var status, originalRequest, response;\n            return C_PROJECT_crypto_wallet_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        status = error.response ? error.response.status : null;\n                        originalRequest = error.config;\n                        console.log(error);\n                        if (!(status == 403 && error.config && !error.config._isRetry)) {\n                            _ctx.next = 17;\n                            break;\n                        }\n                        originalRequest._isRetry = true;\n                        _ctx.prev = 5;\n                        js_cookie__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remove(\"token\");\n                        _ctx.next = 9;\n                        return axios__WEBPACK_IMPORTED_MODULE_1___default().get(\"\".concat(API_URL, \"/auth/refresh\"), {\n                            withCredentials: true\n                        });\n                    case 9:\n                        response = _ctx.sent;\n                        js_cookie__WEBPACK_IMPORTED_MODULE_2__[\"default\"].set(\"token\", response.data.token);\n                        return _ctx.abrupt(\"return\", $api.request(originalRequest));\n                    case 14:\n                        _ctx.prev = 14;\n                        _ctx.t0 = _ctx[\"catch\"](5);\n                        main.pushErrors(\"Истекло время токена, авторизутесь для дальнейшей работы\");\n                    case 17:\n                        throw error;\n                    case 18:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee, null, [\n                [\n                    5,\n                    14\n                ]\n            ]);\n        }));\n        return function(error) {\n            return _ref.apply(this, arguments);\n        };\n    }());\n    return children;\n};\n_s(Intercaptors, \"yguYe/jRw7RJQxRavFf4X8LW/X0=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = Intercaptors;\n/*\n$api.interceptors.request.use((config) => {\n    config.headers.Authorization = `Bearer ${cookie.get('token')}`\n    return config;\n})\n\n$api.interceptors.response.use((config) => {\n\n    return config\n\n}, async (error) => {\n    const status = error.response ? error.response.status : null\n    const originalRequest = error.config;\n    console.log(error);\n    if (status == 403 && error.config && !error.config._isRetry) {\n        originalRequest._isRetry = true;\n        try {\n            cookie.remove('token');\n            const response = await axios.get(`${API_URL}/auth/refresh`, { withCredentials: true })\n            cookie.set('token', response.data.token);\n            return $api.request(originalRequest);\n        } catch (e) {\n            console.log('НЕ АВТОРИЗОВАН')\n        }\n    }\n    throw error;\n})\n*/ /* harmony default export */ __webpack_exports__[\"default\"] = ($api);\nvar _c;\n$RefreshReg$(_c, \"Intercaptors\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvaHR0cC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztBQUEwQztBQUNaO0FBQ1U7QUFDTDtBQUNTO0FBRXJDLElBQU1NLE9BQU8sR0FBSSxnREFBOEMsQ0FBQztBQUl2RSxJQUFNQyxJQUFJLEdBQUdQLG1EQUFZLENBQUM7SUFDdEJTLGVBQWUsRUFBRSxJQUFJO0lBQ3JCQyxPQUFPLEVBQUVKLE9BQU87Q0FDbkIsQ0FBQztBQUdLLElBQU1LLFlBQVksR0FBRyxnQkFBa0I7UUFBZkMsUUFBUSxTQUFSQSxRQUFROztJQUVuQyxJQUFNQyxNQUFNLEdBQUdWLHNEQUFTLEVBQUU7SUFDMUIsSUFBTSxJQUFNLEdBQUtDLGlEQUFVLENBQUNDLG9EQUFZLENBQUMsQ0FBakNTLElBQUk7SUFFWlAsSUFBSSxDQUFDUSxZQUFZLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFNBQUNDLE1BQU0sRUFBSztRQUN0Q0EsTUFBTSxDQUFDQyxPQUFPLENBQUNDLGFBQWEsR0FBRyxTQUFRLENBQXNCLE9BQXBCbEIscURBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBRTtRQUM5RCxPQUFPZ0IsTUFBTSxDQUFDO0tBQ2pCLENBQUM7SUFFRlgsSUFBSSxDQUFDUSxZQUFZLENBQUNPLFFBQVEsQ0FBQ0wsR0FBRyxDQUFDLFNBQUNDLE1BQU0sRUFBSztRQUV2QyxPQUFPQSxNQUFNO0tBRWhCO21CQUFFLDRPQUFPSyxLQUFLLEVBQUs7Z0JBQ1ZDLE1BQU0sRUFDTkMsZUFBZSxFQU1QSCxRQUFROzs7O3dCQVBoQkUsTUFBTSxHQUFHRCxLQUFLLENBQUNELFFBQVEsR0FBR0MsS0FBSyxDQUFDRCxRQUFRLENBQUNFLE1BQU0sR0FBRyxJQUFJO3dCQUN0REMsZUFBZSxHQUFHRixLQUFLLENBQUNMLE1BQU0sQ0FBQzt3QkFDckNRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUMsQ0FBQzs0QkFDZkMsQ0FBQUEsQ0FBQUEsTUFBTSxJQUFJLEdBQUcsSUFBSUQsS0FBSyxDQUFDTCxNQUFNLElBQUksQ0FBQ0ssS0FBSyxDQUFDTCxNQUFNLENBQUNVLFFBQVE7Ozs7d0JBQ3ZESCxlQUFlLENBQUNHLFFBQVEsR0FBRyxJQUFJLENBQUM7O3dCQUU1QjFCLHdEQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7OytCQUNBRixnREFBUyxDQUFDLEVBQUMsQ0FBVSxNQUFhLENBQXJCTSxPQUFPLEVBQUMsZUFBYSxDQUFDLEVBQUU7NEJBQUVHLGVBQWUsRUFBRSxJQUFJO3lCQUFFLENBQUM7O3dCQUFoRmEsUUFBUSxZQUF3RTt3QkFDdEZwQixxREFBVSxDQUFDLE9BQU8sRUFBRW9CLFFBQVEsQ0FBQ1MsSUFBSSxDQUFDQyxLQUFLLENBQUMsQ0FBQztxREFDbEN6QixJQUFJLENBQUNTLE9BQU8sQ0FBQ1MsZUFBZSxDQUFDOzs7O3dCQUVwQ1gsSUFBSSxDQUFDbUIsVUFBVSxDQUFDLDBEQUEwRCxDQUFDOzt3QkFHbkYsTUFBTVYsS0FBSyxDQUFDOzs7Ozs7Ozs7OztTQUNmO3dCQWhCU0EsS0FBSzs7O1FBZ0JiO0lBRUYsT0FBT1gsUUFBUTtDQUNsQjtHQWpDWUQsWUFBWTs7UUFFTlIsa0RBQVM7OztBQUZmUSxLQUFBQSxZQUFZO0FBa0N6Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMkJBLEdBQ0EsK0RBQWVKLElBQUksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvaHR0cC9pbmRleC5qcz84NTE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcywgeyBBeGlvc0Vycm9yIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGNvb2tpZSBmcm9tICdqcy1jb29raWUnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3RvcmVDb250ZXh0IH0gZnJvbSAnQC9wYWdlcy9fYXBwJztcblxuZXhwb3J0IGNvbnN0IEFQSV9VUkwgPSBgaHR0cHM6Ly9jcnlwdG8td2FsbGV0LXNlcnZlci1vbmUuaGVyb2t1YXBwLmNvbWBcblxuXG5cbmNvbnN0ICRhcGkgPSBheGlvcy5jcmVhdGUoe1xuICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICBiYXNlVVJMOiBBUElfVVJMXG59KVxuXG5cbmV4cG9ydCBjb25zdCBJbnRlcmNhcHRvcnMgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG5cbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICAgIGNvbnN0IHsgbWFpbiB9ID0gdXNlQ29udGV4dChTdG9yZUNvbnRleHQpXG5cbiAgICAkYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSgoY29uZmlnKSA9PiB7XG4gICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7Y29va2llLmdldCgndG9rZW4nKX1gXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfSlcblxuICAgICRhcGkuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgoY29uZmlnKSA9PiB7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZ1xuXG4gICAgfSwgYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2Uuc3RhdHVzIDogbnVsbFxuICAgICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWc7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PSA0MDMgJiYgZXJyb3IuY29uZmlnICYmICFlcnJvci5jb25maWcuX2lzUmV0cnkpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsUmVxdWVzdC5faXNSZXRyeSA9IHRydWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvb2tpZS5yZW1vdmUoJ3Rva2VuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX1VSTH0vYXV0aC9yZWZyZXNoYCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfSlcbiAgICAgICAgICAgICAgICBjb29raWUuc2V0KCd0b2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiAkYXBpLnJlcXVlc3Qob3JpZ2luYWxSZXF1ZXN0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBtYWluLnB1c2hFcnJvcnMoJ9CY0YHRgtC10LrQu9C+INCy0YDQtdC80Y8g0YLQvtC60LXQvdCwLCDQsNCy0YLQvtGA0LjQt9GD0YLQtdGB0Ywg0LTQu9GPINC00LDQu9GM0L3QtdC50YjQtdC5INGA0LDQsdC+0YLRiycpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSlcblxuICAgIHJldHVybiBjaGlsZHJlblxufVxuLypcbiRhcGkuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKChjb25maWcpID0+IHtcbiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke2Nvb2tpZS5nZXQoJ3Rva2VuJyl9YFxuICAgIHJldHVybiBjb25maWc7XG59KVxuXG4kYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoKGNvbmZpZykgPT4ge1xuXG4gICAgcmV0dXJuIGNvbmZpZ1xuXG59LCBhc3luYyAoZXJyb3IpID0+IHtcbiAgICBjb25zdCBzdGF0dXMgPSBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLnN0YXR1cyA6IG51bGxcbiAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWc7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIGlmIChzdGF0dXMgPT0gNDAzICYmIGVycm9yLmNvbmZpZyAmJiAhZXJyb3IuY29uZmlnLl9pc1JldHJ5KSB7XG4gICAgICAgIG9yaWdpbmFsUmVxdWVzdC5faXNSZXRyeSA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb29raWUucmVtb3ZlKCd0b2tlbicpO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX1VSTH0vYXV0aC9yZWZyZXNoYCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfSlcbiAgICAgICAgICAgIGNvb2tpZS5zZXQoJ3Rva2VuJywgcmVzcG9uc2UuZGF0YS50b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gJGFwaS5yZXF1ZXN0KG9yaWdpbmFsUmVxdWVzdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQndCVINCQ0JLQotCe0KDQmNCX0J7QktCQ0J0nKVxuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xufSlcbiovXG5leHBvcnQgZGVmYXVsdCAkYXBpO1xuXG4iXSwibmFtZXMiOlsiYXhpb3MiLCJBeGlvc0Vycm9yIiwiY29va2llIiwidXNlUm91dGVyIiwidXNlQ29udGV4dCIsIlN0b3JlQ29udGV4dCIsIkFQSV9VUkwiLCIkYXBpIiwiY3JlYXRlIiwid2l0aENyZWRlbnRpYWxzIiwiYmFzZVVSTCIsIkludGVyY2FwdG9ycyIsImNoaWxkcmVuIiwicm91dGVyIiwibWFpbiIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImdldCIsInJlc3BvbnNlIiwiZXJyb3IiLCJzdGF0dXMiLCJvcmlnaW5hbFJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwiX2lzUmV0cnkiLCJyZW1vdmUiLCJzZXQiLCJkYXRhIiwidG9rZW4iLCJwdXNoRXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/http/index.js\n"));

/***/ })

});